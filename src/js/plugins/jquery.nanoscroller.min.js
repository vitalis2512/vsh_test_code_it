!function(i,t,e){"use strict";var s,o,n,l,r,a,d,c,p,h,u,f,v,g,S,T,w,y,k,m,$,C,b,x,H,O,A,P,M,E,z;b={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},y="scrollbar",w="scroll",p="mousedown",h="mouseenter",u="mousemove",v="mousewheel",f="mouseup",T="resize",r="drag",a="enter",m="up",S="panedown",n="DOMMouseScroll",l="down",$="wheel",d="keydown",c="keyup",k="touchmove",s="Microsoft Internet Explorer"===t.navigator.appName&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject,o=null,A=t.requestAnimationFrame,C=t.cancelAnimationFrame,M=e.createElement("div").style,z=function(){var i,t,e,s,o,n;for(s=["t","webkitT","MozT","msT","OT"],i=o=0,n=s.length;n>o;i=++o)if(e=s[i],t=s[i]+"ransform",t in M)return s[i].substr(0,s[i].length-1);return!1}(),E=function(i){return z===!1?!1:""===z?i:z+i.charAt(0).toUpperCase()+i.substr(1)},P=E("transform"),H=P!==!1,x=function(){var i,t,s;return i=e.createElement("div"),t=i.style,t.position="absolute",t.width="100px",t.height="100px",t.overflow=w,t.top="-9999px",e.body.appendChild(i),s=i.offsetWidth-i.clientWidth,e.body.removeChild(i),s},O=function(){var i,e,s;return e=t.navigator.userAgent,(i=/(?=.+Mac OS X)(?=.+Firefox)/.test(e))?(s=/Firefox\/\d{2}\./.exec(e),s&&(s=s[0].replace(/\D+/g,"")),i&&+s>23):!1},g=function(){function d(s,n){this.el=s,this.options=n,o||(o=x()),this.$el=i(this.el),this.doc=i(this.options.documentContext||e),this.win=i(this.options.windowContext||t),this.body=this.doc.find("body"),this.$content=this.$el.children("."+n.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return d.prototype.preventScrolling=function(i,t){if(this.isActive)if(i.type===n)(t===l&&i.originalEvent.detail>0||t===m&&i.originalEvent.detail<0)&&i.preventDefault();else if(i.type===v){if(!i.originalEvent||!i.originalEvent.wheelDelta)return;(t===l&&i.originalEvent.wheelDelta<0||t===m&&i.originalEvent.wheelDelta>0)&&i.preventDefault()}},d.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},d.prototype.updateScrollValues=function(){var i,t;i=this.content,this.maxScrollTop=i.scrollHeight-i.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=i.scrollTop,t=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==t&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:t}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},d.prototype.setOnScrollStyles=function(){var i;H?(i={},i[P]="translate(0, "+this.sliderTop+"px)"):i={top:this.sliderTop},A?(C&&this.scrollRAF&&C(this.scrollRAF),this.scrollRAF=A(function(t){return function(){return t.scrollRAF=null,t.slider.css(i)}}(this))):this.slider.css(i)},d.prototype.createEvents=function(){this.events={down:function(i){return function(t){return i.isBeingDragged=!0,i.offsetY=t.pageY-i.slider.offset().top,i.slider.is(t.target)||(i.offsetY=0),i.pane.addClass("active"),i.doc.bind(u,i.events[r]).bind(f,i.events[m]),i.body.bind(h,i.events[a]),!1}}(this),drag:function(i){return function(t){return i.sliderY=t.pageY-i.$el.offset().top-i.paneTop-(i.offsetY||.5*i.sliderHeight),i.scroll(),i.contentScrollTop>=i.maxScrollTop&&i.prevScrollTop!==i.maxScrollTop?i.$el.trigger("scrollend"):0===i.contentScrollTop&&0!==i.prevScrollTop&&i.$el.trigger("scrolltop"),!1}}(this),up:function(i){return function(){return i.isBeingDragged=!1,i.pane.removeClass("active"),i.doc.unbind(u,i.events[r]).unbind(f,i.events[m]),i.body.unbind(h,i.events[a]),!1}}(this),resize:function(i){return function(){i.reset()}}(this),panedown:function(i){return function(t){return i.sliderY=(t.offsetY||t.originalEvent.layerY)-.5*i.sliderHeight,i.scroll(),i.events.down(t),!1}}(this),scroll:function(i){return function(t){i.updateScrollValues(),i.isBeingDragged||(i.iOSNativeScrolling||(i.sliderY=i.sliderTop,i.setOnScrollStyles()),null!=t&&(i.contentScrollTop>=i.maxScrollTop?(i.options.preventPageScrolling&&i.preventScrolling(t,l),i.prevScrollTop!==i.maxScrollTop&&i.$el.trigger("scrollend")):0===i.contentScrollTop&&(i.options.preventPageScrolling&&i.preventScrolling(t,m),0!==i.prevScrollTop&&i.$el.trigger("scrolltop"))))}}(this),wheel:function(i){return function(t){var e;if(null!=t)return e=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail,e&&(i.sliderY+=-e/3),i.scroll(),!1}}(this),enter:function(i){return function(t){var e;if(i.isBeingDragged)return 1!==(t.buttons||t.which)?(e=i.events)[m].apply(e,arguments):void 0}}(this)}},d.prototype.addEvents=function(){var i;this.removeEvents(),i=this.events,this.options.disableResize||this.win.bind(T,i[T]),this.iOSNativeScrolling||(this.slider.bind(p,i[l]),this.pane.bind(p,i[S]).bind(""+v+" "+n,i[$])),this.$content.bind(""+w+" "+v+" "+n+" "+k,i[w])},d.prototype.removeEvents=function(){var i;i=this.events,this.win.unbind(T,i[T]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+w+" "+v+" "+n+" "+k,i[w])},d.prototype.generate=function(){var i,e,s,n,l,r,a;return n=this.options,r=n.paneClass,a=n.sliderClass,i=n.contentClass,(l=this.$el.children("."+r)).length||l.children("."+a).length||this.$el.append('<div class="'+r+'"><div class="'+a+'" /></div>'),this.pane=this.$el.children("."+r),this.slider=this.pane.find("."+a),0===o&&O()?(s=t.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),e={right:-14,paddingRight:+s+14}):o&&(e={right:-o},this.$el.addClass("has-scrollbar")),null!=e&&this.$content.css(e),this},d.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},d.prototype.reset=function(){var i,t,e,n,l,r,a,d,c,p,h,u;return this.iOSNativeScrolling?(this.contentHeight=this.content.scrollHeight,void 0):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),i=this.content,n=i.style,l=n.overflowY,s&&this.$content.css({height:this.$content.height()}),t=i.scrollHeight+o,p=parseInt(this.$el.css("max-height"),10),p>0&&(this.$el.height(""),this.$el.height(i.scrollHeight>p?p:i.scrollHeight)),a=this.pane.outerHeight(!1),c=parseInt(this.pane.css("top"),10),r=parseInt(this.pane.css("bottom"),10),d=a+c+r,u=Math.round(d/t*d),u<this.options.sliderMinHeight?u=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&u>this.options.sliderMaxHeight&&(u=this.options.sliderMaxHeight),l===w&&n.overflowX!==w&&(u+=o),this.maxSliderTop=d-u,this.contentHeight=t,this.paneHeight=a,this.paneOuterHeight=d,this.sliderHeight=u,this.paneTop=c,this.slider.height(u),this.events.scroll(),this.pane.show(),this.isActive=!0,i.scrollHeight===i.clientHeight||this.pane.outerHeight(!0)>=i.scrollHeight&&l!==w?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===i.scrollHeight&&l===w?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),e=this.$content.css("position"),("static"===e||"relative"===e)&&(h=parseInt(this.$content.css("right"),10),h&&this.$content.css({right:"",marginRight:h})),this)},d.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},d.prototype.scrollBottom=function(i){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-i).trigger(v),this.stop().restore(),this):void 0},d.prototype.scrollTop=function(i){return this.isActive?(this.$content.scrollTop(+i).trigger(v),this.stop().restore(),this):void 0},d.prototype.scrollTo=function(i){return this.isActive?(this.scrollTop(this.$el.find(i).get(0).offsetTop),this):void 0},d.prototype.stop=function(){return C&&this.scrollRAF&&(C(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},d.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),s&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},d.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(i){return function(){i.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},d}(),i.fn.nanoScroller=function(t){return this.each(function(){var e,s;if((s=this.nanoscroller)||(e=i.extend({},b,t),this.nanoscroller=s=new g(this,e)),t&&"object"==typeof t){if(i.extend(s.options,t),null!=t.scrollBottom)return s.scrollBottom(t.scrollBottom);if(null!=t.scrollTop)return s.scrollTop(t.scrollTop);if(t.scrollTo)return s.scrollTo(t.scrollTo);if("bottom"===t.scroll)return s.scrollBottom(0);if("top"===t.scroll)return s.scrollTop(0);if(t.scroll&&t.scroll instanceof i)return s.scrollTo(t.scroll);if(t.stop)return s.stop();if(t.destroy)return s.destroy();if(t.flash)return s.flash()}return s.reset()})},i.fn.nanoScroller.Constructor=g}(jQuery,window,document);